"""
@generated by mypy-protobuf.  Do not edit manually!
isort:skip_file
Copyright 2020 The TensorFlow Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
==============================================================================
"""
import builtins
import collections.abc
import google.protobuf.descriptor
import google.protobuf.internal.containers
import google.protobuf.internal.enum_type_wrapper
import google.protobuf.message
import sys
import tensorflow.compiler.xla.service.hlo_pb2
import tensorflow.compiler.xla.xla_data_pb2
import tensorflow.core.framework.tensor_shape_pb2
import typing

if sys.version_info >= (3, 10):
    import typing as typing_extensions
else:
    import typing_extensions

DESCRIPTOR: google.protobuf.descriptor.FileDescriptor

@typing_extensions.final
class TPUExecutableInfoProto(google.protobuf.message.Message):
    """A serialization of TPUExecutable. Only includes fields necessary to load
    and execute a program on a worker node.
    """

    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    @typing_extensions.final
    class UpdateIndexPair(google.protobuf.message.Message):
        DESCRIPTOR: google.protobuf.descriptor.Descriptor

        INDEX_FIELD_NUMBER: builtins.int
        UPDATED_FIELD_NUMBER: builtins.int
        index: builtins.int
        updated: builtins.bool
        def __init__(
            self,
            *,
            index: builtins.int = ...,
            updated: builtins.bool = ...,
        ) -> None: ...
        def ClearField(self, field_name: typing_extensions.Literal["index", b"index", "updated", b"updated"]) -> None: ...

    @typing_extensions.final
    class ShapeIndex(google.protobuf.message.Message):
        DESCRIPTOR: google.protobuf.descriptor.Descriptor

        INDEX_FIELD_NUMBER: builtins.int
        @property
        def index(self) -> google.protobuf.internal.containers.RepeatedScalarFieldContainer[builtins.int]: ...
        def __init__(
            self,
            *,
            index: collections.abc.Iterable[builtins.int] | None = ...,
        ) -> None: ...
        def ClearField(self, field_name: typing_extensions.Literal["index", b"index"]) -> None: ...

    INPUT_SHAPES_FIELD_NUMBER: builtins.int
    OUTPUT_SHAPE_FIELD_NUMBER: builtins.int
    DYNAMIC_OUTPUT_INDICES_FIELD_NUMBER: builtins.int
    VARIABLE_INDICES_FIELD_NUMBER: builtins.int
    OUTPUT_TENSOR_SHAPES_FIELD_NUMBER: builtins.int
    SESSION_MODULE_FIELD_NUMBER: builtins.int
    DEVICE_ASSIGNMENT_FIELD_NUMBER: builtins.int
    @property
    def input_shapes(self) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[tensorflow.compiler.xla.xla_data_pb2.ShapeProto]:
        """The shapes of the inputs and outputs."""
    @property
    def output_shape(self) -> tensorflow.compiler.xla.xla_data_pb2.ShapeProto: ...
    @property
    def dynamic_output_indices(self) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[global___TPUExecutableInfoProto.ShapeIndex]:
        """Dynamic output indices indicate which outputs have dynamic dimensions."""
    @property
    def variable_indices(self) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[global___TPUExecutableInfoProto.UpdateIndexPair]:
        """For each resource variable output, what was the index of the corresponding
        input and was it updated? The indices are sorted by input order.
        """
    @property
    def output_tensor_shapes(self) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[tensorflow.core.framework.tensor_shape_pb2.TensorShapeProto]:
        """The shapes of the outputs when represented as Tensors. These may not
        match the output_shape values because we may flatten tensors to avoid
        excess padding.
        """
    @property
    def session_module(self) -> tensorflow.compiler.xla.service.hlo_pb2.HloSnapshot:
        """Optional session module for passing XLA computations between TPUCompileOp
        and TPUExecuteOp. This is needed to support the
        --xla_dump_hlo_snapshots flag.
        """
    @property
    def device_assignment(self) -> tensorflow.compiler.xla.xla_data_pb2.DeviceAssignmentProto:
        """The physical device ids assigned to the replicated cores."""
    def __init__(
        self,
        *,
        input_shapes: collections.abc.Iterable[tensorflow.compiler.xla.xla_data_pb2.ShapeProto] | None = ...,
        output_shape: tensorflow.compiler.xla.xla_data_pb2.ShapeProto | None = ...,
        dynamic_output_indices: collections.abc.Iterable[global___TPUExecutableInfoProto.ShapeIndex] | None = ...,
        variable_indices: collections.abc.Iterable[global___TPUExecutableInfoProto.UpdateIndexPair] | None = ...,
        output_tensor_shapes: collections.abc.Iterable[tensorflow.core.framework.tensor_shape_pb2.TensorShapeProto] | None = ...,
        session_module: tensorflow.compiler.xla.service.hlo_pb2.HloSnapshot | None = ...,
        device_assignment: tensorflow.compiler.xla.xla_data_pb2.DeviceAssignmentProto | None = ...,
    ) -> None: ...
    def HasField(self, field_name: typing_extensions.Literal["device_assignment", b"device_assignment", "output_shape", b"output_shape", "session_module", b"session_module"]) -> builtins.bool: ...
    def ClearField(self, field_name: typing_extensions.Literal["device_assignment", b"device_assignment", "dynamic_output_indices", b"dynamic_output_indices", "input_shapes", b"input_shapes", "output_shape", b"output_shape", "output_tensor_shapes", b"output_tensor_shapes", "session_module", b"session_module", "variable_indices", b"variable_indices"]) -> None: ...

global___TPUExecutableInfoProto = TPUExecutableInfoProto

@typing_extensions.final
class TPUHostTransferProto(google.protobuf.message.Message):
    """Metadata for a data transfer between device and host."""

    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    class _TransferDirection:
        ValueType = typing.NewType("ValueType", builtins.int)
        V: typing_extensions.TypeAlias = ValueType

    class _TransferDirectionEnumTypeWrapper(google.protobuf.internal.enum_type_wrapper._EnumTypeWrapper[TPUHostTransferProto._TransferDirection.ValueType], builtins.type):  # noqa: F821
        DESCRIPTOR: google.protobuf.descriptor.EnumDescriptor
        NONE: TPUHostTransferProto._TransferDirection.ValueType  # 0
        DEVICE_TO_HOST: TPUHostTransferProto._TransferDirection.ValueType  # 1
        HOST_TO_DEVICE: TPUHostTransferProto._TransferDirection.ValueType  # 2

    class TransferDirection(_TransferDirection, metaclass=_TransferDirectionEnumTypeWrapper): ...
    NONE: TPUHostTransferProto.TransferDirection.ValueType  # 0
    DEVICE_TO_HOST: TPUHostTransferProto.TransferDirection.ValueType  # 1
    HOST_TO_DEVICE: TPUHostTransferProto.TransferDirection.ValueType  # 2

    CHANNEL_FIELD_NUMBER: builtins.int
    DIRECTION_FIELD_NUMBER: builtins.int
    KEY_FIELD_NUMBER: builtins.int
    SHAPE_FIELD_NUMBER: builtins.int
    BUFFER_OFFSET_FIELD_NUMBER: builtins.int
    ORIGINAL_TYPE_FIELD_NUMBER: builtins.int
    IS_LOWER_BITS_FIELD_NUMBER: builtins.int
    HOST_HANDLER_NAME_FIELD_NUMBER: builtins.int
    channel: builtins.int
    """Channel identifier assigned by compiler and used in host commands."""
    direction: global___TPUHostTransferProto.TransferDirection.ValueType
    """Direction of the transfer operation."""
    key: builtins.str
    """Channel identifier prodided by XLA client."""
    @property
    def shape(self) -> tensorflow.compiler.xla.xla_data_pb2.ShapeProto:
        """Shape of the data to be transferred (including layout)."""
    buffer_offset: builtins.int
    """Address of the device buffer in HBM (byte offset)."""
    original_type: tensorflow.compiler.xla.xla_data_pb2.PrimitiveType.ValueType
    """Original data type for this host transfer before X64 rewrite."""
    is_lower_bits: builtins.bool
    """If this host transfer is a splitted X64 transfer, specifies whether this
    transfer is for lower bits.
    """
    host_handler_name: builtins.str
    """The name of host side command handler."""
    def __init__(
        self,
        *,
        channel: builtins.int = ...,
        direction: global___TPUHostTransferProto.TransferDirection.ValueType = ...,
        key: builtins.str = ...,
        shape: tensorflow.compiler.xla.xla_data_pb2.ShapeProto | None = ...,
        buffer_offset: builtins.int = ...,
        original_type: tensorflow.compiler.xla.xla_data_pb2.PrimitiveType.ValueType = ...,
        is_lower_bits: builtins.bool = ...,
        host_handler_name: builtins.str = ...,
    ) -> None: ...
    def HasField(self, field_name: typing_extensions.Literal["shape", b"shape"]) -> builtins.bool: ...
    def ClearField(self, field_name: typing_extensions.Literal["buffer_offset", b"buffer_offset", "channel", b"channel", "direction", b"direction", "host_handler_name", b"host_handler_name", "is_lower_bits", b"is_lower_bits", "key", b"key", "original_type", b"original_type", "shape", b"shape"]) -> None: ...

global___TPUHostTransferProto = TPUHostTransferProto

@typing_extensions.final
class TPUHostTransferInfoProto(google.protobuf.message.Message):
    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    HOST_TRANSFERS_FIELD_NUMBER: builtins.int
    @property
    def host_transfers(self) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[global___TPUHostTransferProto]: ...
    def __init__(
        self,
        *,
        host_transfers: collections.abc.Iterable[global___TPUHostTransferProto] | None = ...,
    ) -> None: ...
    def ClearField(self, field_name: typing_extensions.Literal["host_transfers", b"host_transfers"]) -> None: ...

global___TPUHostTransferInfoProto = TPUHostTransferInfoProto
