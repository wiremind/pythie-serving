"""
@generated by mypy-protobuf.  Do not edit manually!
isort:skip_file
"""
import builtins
import google.protobuf.descriptor
import google.protobuf.internal.containers
import google.protobuf.internal.enum_type_wrapper
import google.protobuf.message
import tensorflow.compiler.xla.service.hlo_pb2
import tensorflow.compiler.xla.xla_data_pb2
import tensorflow.core.framework.tensor_shape_pb2
import typing
import typing_extensions

DESCRIPTOR: google.protobuf.descriptor.FileDescriptor

class TPUExecutableInfoProto(google.protobuf.message.Message):
    """A serialization of TPUExecutable. Only includes fields necessary to load
    and execute a program on a worker node.
    """
    DESCRIPTOR: google.protobuf.descriptor.Descriptor
    class UpdateIndexPair(google.protobuf.message.Message):
        DESCRIPTOR: google.protobuf.descriptor.Descriptor
        INDEX_FIELD_NUMBER: builtins.int
        UPDATED_FIELD_NUMBER: builtins.int
        index: builtins.int
        updated: builtins.bool
        def __init__(self,
            *,
            index: builtins.int = ...,
            updated: builtins.bool = ...,
            ) -> None: ...
        def ClearField(self, field_name: typing_extensions.Literal["index",b"index","updated",b"updated"]) -> None: ...

    class ShapeIndex(google.protobuf.message.Message):
        DESCRIPTOR: google.protobuf.descriptor.Descriptor
        INDEX_FIELD_NUMBER: builtins.int
        @property
        def index(self) -> google.protobuf.internal.containers.RepeatedScalarFieldContainer[builtins.int]: ...
        def __init__(self,
            *,
            index: typing.Optional[typing.Iterable[builtins.int]] = ...,
            ) -> None: ...
        def ClearField(self, field_name: typing_extensions.Literal["index",b"index"]) -> None: ...

    INPUT_SHAPES_FIELD_NUMBER: builtins.int
    OUTPUT_SHAPE_FIELD_NUMBER: builtins.int
    DYNAMIC_OUTPUT_INDICES_FIELD_NUMBER: builtins.int
    VARIABLE_INDICES_FIELD_NUMBER: builtins.int
    OUTPUT_TENSOR_SHAPES_FIELD_NUMBER: builtins.int
    SESSION_MODULE_FIELD_NUMBER: builtins.int
    DEVICE_ASSIGNMENT_FIELD_NUMBER: builtins.int
    @property
    def input_shapes(self) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[tensorflow.compiler.xla.xla_data_pb2.ShapeProto]:
        """The shapes of the inputs and outputs."""
        pass
    @property
    def output_shape(self) -> tensorflow.compiler.xla.xla_data_pb2.ShapeProto: ...
    @property
    def dynamic_output_indices(self) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[global___TPUExecutableInfoProto.ShapeIndex]:
        """Dynamic output indices indicate which outputs have dynamic dimensions."""
        pass
    @property
    def variable_indices(self) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[global___TPUExecutableInfoProto.UpdateIndexPair]:
        """For each resource variable output, what was the index of the corresponding
        input and was it updated? The indices are sorted by input order.
        """
        pass
    @property
    def output_tensor_shapes(self) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[tensorflow.core.framework.tensor_shape_pb2.TensorShapeProto]:
        """The shapes of the outputs when represented as Tensors. These may not
        match the output_shape values because we may flatten tensors to avoid
        excess padding.
        """
        pass
    @property
    def session_module(self) -> tensorflow.compiler.xla.service.hlo_pb2.HloSnapshot:
        """Optional session module for passing XLA computations between TPUCompileOp
        and TPUExecuteOp. This is needed to support the
        --xla_dump_hlo_snapshots flag.
        """
        pass
    @property
    def device_assignment(self) -> tensorflow.compiler.xla.xla_data_pb2.DeviceAssignmentProto:
        """The physical device ids assigned to the replicated cores."""
        pass
    def __init__(self,
        *,
        input_shapes: typing.Optional[typing.Iterable[tensorflow.compiler.xla.xla_data_pb2.ShapeProto]] = ...,
        output_shape: typing.Optional[tensorflow.compiler.xla.xla_data_pb2.ShapeProto] = ...,
        dynamic_output_indices: typing.Optional[typing.Iterable[global___TPUExecutableInfoProto.ShapeIndex]] = ...,
        variable_indices: typing.Optional[typing.Iterable[global___TPUExecutableInfoProto.UpdateIndexPair]] = ...,
        output_tensor_shapes: typing.Optional[typing.Iterable[tensorflow.core.framework.tensor_shape_pb2.TensorShapeProto]] = ...,
        session_module: typing.Optional[tensorflow.compiler.xla.service.hlo_pb2.HloSnapshot] = ...,
        device_assignment: typing.Optional[tensorflow.compiler.xla.xla_data_pb2.DeviceAssignmentProto] = ...,
        ) -> None: ...
    def HasField(self, field_name: typing_extensions.Literal["device_assignment",b"device_assignment","output_shape",b"output_shape","session_module",b"session_module"]) -> builtins.bool: ...
    def ClearField(self, field_name: typing_extensions.Literal["device_assignment",b"device_assignment","dynamic_output_indices",b"dynamic_output_indices","input_shapes",b"input_shapes","output_shape",b"output_shape","output_tensor_shapes",b"output_tensor_shapes","session_module",b"session_module","variable_indices",b"variable_indices"]) -> None: ...
global___TPUExecutableInfoProto = TPUExecutableInfoProto

class TPUHostTransferProto(google.protobuf.message.Message):
    """Metadata for a data transfer between device and host."""
    DESCRIPTOR: google.protobuf.descriptor.Descriptor
    class _TransferDirection:
        ValueType = typing.NewType('ValueType', builtins.int)
        V: typing_extensions.TypeAlias = ValueType
    class _TransferDirectionEnumTypeWrapper(google.protobuf.internal.enum_type_wrapper._EnumTypeWrapper[TPUHostTransferProto._TransferDirection.ValueType], builtins.type):
        DESCRIPTOR: google.protobuf.descriptor.EnumDescriptor
        NONE: TPUHostTransferProto._TransferDirection.ValueType  # 0
        DEVICE_TO_HOST: TPUHostTransferProto._TransferDirection.ValueType  # 1
        HOST_TO_DEVICE: TPUHostTransferProto._TransferDirection.ValueType  # 2
    class TransferDirection(_TransferDirection, metaclass=_TransferDirectionEnumTypeWrapper):
        pass

    NONE: TPUHostTransferProto.TransferDirection.ValueType  # 0
    DEVICE_TO_HOST: TPUHostTransferProto.TransferDirection.ValueType  # 1
    HOST_TO_DEVICE: TPUHostTransferProto.TransferDirection.ValueType  # 2

    CHANNEL_FIELD_NUMBER: builtins.int
    DIRECTION_FIELD_NUMBER: builtins.int
    KEY_FIELD_NUMBER: builtins.int
    NESTED_WHILE_LEVEL_FIELD_NUMBER: builtins.int
    SHAPE_FIELD_NUMBER: builtins.int
    BUFFER_OFFSET_FIELD_NUMBER: builtins.int
    ORIGINAL_TYPE_FIELD_NUMBER: builtins.int
    IS_LOWER_BITS_FIELD_NUMBER: builtins.int
    channel: builtins.int
    """Channel identifier assigned by compiler and used in host commands."""

    direction: global___TPUHostTransferProto.TransferDirection.ValueType
    """Direction of the transfer operation."""

    key: typing.Text
    """Channel identifier prodided by XLA client."""

    nested_while_level: builtins.int
    """Depth of nested loops for this transfer operation."""

    @property
    def shape(self) -> tensorflow.compiler.xla.xla_data_pb2.ShapeProto:
        """Shape of the data to be transferred (including layout)."""
        pass
    buffer_offset: builtins.int
    """Address of the device buffer in HBM (byte offset)."""

    original_type: tensorflow.compiler.xla.xla_data_pb2.PrimitiveType.ValueType
    """Original data type for this host transfer before X64 rewrite."""

    is_lower_bits: builtins.bool
    """If this host transfer is a splitted X64 transfer, sepcifies whether this
    transfer is for lower bits.
    """

    def __init__(self,
        *,
        channel: builtins.int = ...,
        direction: global___TPUHostTransferProto.TransferDirection.ValueType = ...,
        key: typing.Text = ...,
        nested_while_level: builtins.int = ...,
        shape: typing.Optional[tensorflow.compiler.xla.xla_data_pb2.ShapeProto] = ...,
        buffer_offset: builtins.int = ...,
        original_type: tensorflow.compiler.xla.xla_data_pb2.PrimitiveType.ValueType = ...,
        is_lower_bits: builtins.bool = ...,
        ) -> None: ...
    def HasField(self, field_name: typing_extensions.Literal["shape",b"shape"]) -> builtins.bool: ...
    def ClearField(self, field_name: typing_extensions.Literal["buffer_offset",b"buffer_offset","channel",b"channel","direction",b"direction","is_lower_bits",b"is_lower_bits","key",b"key","nested_while_level",b"nested_while_level","original_type",b"original_type","shape",b"shape"]) -> None: ...
global___TPUHostTransferProto = TPUHostTransferProto

class TPUHostTransferInfoProto(google.protobuf.message.Message):
    DESCRIPTOR: google.protobuf.descriptor.Descriptor
    HOST_TRANSFERS_FIELD_NUMBER: builtins.int
    @property
    def host_transfers(self) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[global___TPUHostTransferProto]: ...
    def __init__(self,
        *,
        host_transfers: typing.Optional[typing.Iterable[global___TPUHostTransferProto]] = ...,
        ) -> None: ...
    def ClearField(self, field_name: typing_extensions.Literal["host_transfers",b"host_transfers"]) -> None: ...
global___TPUHostTransferInfoProto = TPUHostTransferInfoProto
