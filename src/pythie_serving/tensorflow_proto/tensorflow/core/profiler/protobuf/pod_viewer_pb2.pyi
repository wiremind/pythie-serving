"""
@generated by mypy-protobuf.  Do not edit manually!
isort:skip_file
This proto describes the format of the output profile file from
the Pod Viewer tool.
"""
import builtins
import collections.abc
import google.protobuf.descriptor
import google.protobuf.internal.containers
import google.protobuf.message
import sys
import tensorflow.core.profiler.protobuf.diagnostics_pb2
import tensorflow.core.profiler.protobuf.pod_stats_pb2

if sys.version_info >= (3, 8):
    import typing as typing_extensions
else:
    import typing_extensions

DESCRIPTOR: google.protobuf.descriptor.FileDescriptor

@typing_extensions.final
class ReplicaGroup(google.protobuf.message.Message):
    """Describes the replica groups in a cross replica op (e.g., all-reduce and
    all-to-all).
    """

    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    REPLICA_IDS_FIELD_NUMBER: builtins.int
    @property
    def replica_ids(self) -> google.protobuf.internal.containers.RepeatedScalarFieldContainer[builtins.int]:
        """The ids of the replicas that belongs to the same group. The ordering of the
        ids matters in some ops (e.g., all-to-all).
        """
    def __init__(
        self,
        *,
        replica_ids: collections.abc.Iterable[builtins.int] | None = ...,
    ) -> None: ...
    def ClearField(self, field_name: typing_extensions.Literal["replica_ids", b"replica_ids"]) -> None: ...

global___ReplicaGroup = ReplicaGroup

@typing_extensions.final
class AllReduceOpInfo(google.protobuf.message.Message):
    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    NAME_FIELD_NUMBER: builtins.int
    OCCURRENCES_FIELD_NUMBER: builtins.int
    DURATION_US_FIELD_NUMBER: builtins.int
    DATA_SIZE_FIELD_NUMBER: builtins.int
    REPLICA_GROUPS_FIELD_NUMBER: builtins.int
    DESCRIPTION_FIELD_NUMBER: builtins.int
    name: builtins.str
    """Name of this OP."""
    occurrences: builtins.int
    """Number of instances that this OP occurred."""
    duration_us: builtins.float
    """The time in microseconds spent in this OP (averaged across all of its
    occurrences).
    """
    data_size: builtins.int
    """Byte size of data transferred."""
    @property
    def replica_groups(self) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[global___ReplicaGroup]:
        """Replica groups."""
    description: builtins.str
    """Description (e.g. XLA expression)."""
    def __init__(
        self,
        *,
        name: builtins.str = ...,
        occurrences: builtins.int = ...,
        duration_us: builtins.float = ...,
        data_size: builtins.int = ...,
        replica_groups: collections.abc.Iterable[global___ReplicaGroup] | None = ...,
        description: builtins.str = ...,
    ) -> None: ...
    def ClearField(self, field_name: typing_extensions.Literal["data_size", b"data_size", "description", b"description", "duration_us", b"duration_us", "name", b"name", "occurrences", b"occurrences", "replica_groups", b"replica_groups"]) -> None: ...

global___AllReduceOpInfo = AllReduceOpInfo

@typing_extensions.final
class PodStatsMap(google.protobuf.message.Message):
    """Result proto for information in a step across all cores."""

    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    @typing_extensions.final
    class PodStatsPerCoreEntry(google.protobuf.message.Message):
        DESCRIPTOR: google.protobuf.descriptor.Descriptor

        KEY_FIELD_NUMBER: builtins.int
        VALUE_FIELD_NUMBER: builtins.int
        key: builtins.int
        @property
        def value(self) -> tensorflow.core.profiler.protobuf.pod_stats_pb2.PodStatsRecord: ...
        def __init__(
            self,
            *,
            key: builtins.int = ...,
            value: tensorflow.core.profiler.protobuf.pod_stats_pb2.PodStatsRecord | None = ...,
        ) -> None: ...
        def HasField(self, field_name: typing_extensions.Literal["value", b"value"]) -> builtins.bool: ...
        def ClearField(self, field_name: typing_extensions.Literal["key", b"key", "value", b"value"]) -> None: ...

    @typing_extensions.final
    class CoreIdToReplicaIdMapEntry(google.protobuf.message.Message):
        DESCRIPTOR: google.protobuf.descriptor.Descriptor

        KEY_FIELD_NUMBER: builtins.int
        VALUE_FIELD_NUMBER: builtins.int
        key: builtins.int
        value: builtins.int
        def __init__(
            self,
            *,
            key: builtins.int = ...,
            value: builtins.int = ...,
        ) -> None: ...
        def ClearField(self, field_name: typing_extensions.Literal["key", b"key", "value", b"value"]) -> None: ...

    STEP_NUM_FIELD_NUMBER: builtins.int
    POD_STATS_PER_CORE_FIELD_NUMBER: builtins.int
    CHANNEL_DB_FIELD_NUMBER: builtins.int
    CORE_ID_TO_REPLICA_ID_MAP_FIELD_NUMBER: builtins.int
    ALL_REDUCE_OP_DB_FIELD_NUMBER: builtins.int
    step_num: builtins.int
    """The (micro) step number."""
    @property
    def pod_stats_per_core(self) -> google.protobuf.internal.containers.MessageMap[builtins.int, tensorflow.core.profiler.protobuf.pod_stats_pb2.PodStatsRecord]:
        """A map from core_id to PodStatsRecord."""
    @property
    def channel_db(self) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[global___ChannelInfo]:
        """A database of channel info."""
    @property
    def core_id_to_replica_id_map(self) -> google.protobuf.internal.containers.ScalarMap[builtins.int, builtins.int]:
        """A map from core ID to program replica id. Replica id map could change
        during a profile session, but should stay stable within a step.
        """
    @property
    def all_reduce_op_db(self) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[global___AllReduceOpInfo]:
        """A database of all reduce ops."""
    def __init__(
        self,
        *,
        step_num: builtins.int = ...,
        pod_stats_per_core: collections.abc.Mapping[builtins.int, tensorflow.core.profiler.protobuf.pod_stats_pb2.PodStatsRecord] | None = ...,
        channel_db: collections.abc.Iterable[global___ChannelInfo] | None = ...,
        core_id_to_replica_id_map: collections.abc.Mapping[builtins.int, builtins.int] | None = ...,
        all_reduce_op_db: collections.abc.Iterable[global___AllReduceOpInfo] | None = ...,
    ) -> None: ...
    def ClearField(self, field_name: typing_extensions.Literal["all_reduce_op_db", b"all_reduce_op_db", "channel_db", b"channel_db", "core_id_to_replica_id_map", b"core_id_to_replica_id_map", "pod_stats_per_core", b"pod_stats_per_core", "step_num", b"step_num"]) -> None: ...

global___PodStatsMap = PodStatsMap

@typing_extensions.final
class PodStatsSequence(google.protobuf.message.Message):
    """A sequence of PodStatsMap for each step."""

    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    POD_STATS_MAP_FIELD_NUMBER: builtins.int
    @property
    def pod_stats_map(self) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[global___PodStatsMap]: ...
    def __init__(
        self,
        *,
        pod_stats_map: collections.abc.Iterable[global___PodStatsMap] | None = ...,
    ) -> None: ...
    def ClearField(self, field_name: typing_extensions.Literal["pod_stats_map", b"pod_stats_map"]) -> None: ...

global___PodStatsSequence = PodStatsSequence

@typing_extensions.final
class ChannelInfo(google.protobuf.message.Message):
    """Next ID: 14
    Information about a send and recv channel.
    """

    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    CHANNEL_ID_FIELD_NUMBER: builtins.int
    SRC_CORE_IDS_FIELD_NUMBER: builtins.int
    DST_CORE_IDS_FIELD_NUMBER: builtins.int
    DATA_SIZE_FIELD_NUMBER: builtins.int
    DURATION_US_FIELD_NUMBER: builtins.int
    OCCURRENCES_FIELD_NUMBER: builtins.int
    UTILIZATION_FIELD_NUMBER: builtins.int
    HLO_NAMES_FIELD_NUMBER: builtins.int
    SEND_DELAY_US_FIELD_NUMBER: builtins.int
    DESCRIPTION_FIELD_NUMBER: builtins.int
    channel_id: builtins.int
    """Id of the channel."""
    @property
    def src_core_ids(self) -> google.protobuf.internal.containers.RepeatedScalarFieldContainer[builtins.int]:
        """Core ids of send ops."""
    @property
    def dst_core_ids(self) -> google.protobuf.internal.containers.RepeatedScalarFieldContainer[builtins.int]:
        """Core ids of recv ops."""
    data_size: builtins.int
    """Byte size of the data transferred."""
    duration_us: builtins.float
    """Duration from the beginning of send to the end of recv-done in
    microseconds.
    """
    occurrences: builtins.int
    """Number of occurrences of a channel."""
    utilization: builtins.float
    """Percentage of the link BW utilized over the peak link BW."""
    @property
    def hlo_names(self) -> google.protobuf.internal.containers.RepeatedScalarFieldContainer[builtins.str]:
        """A list of hlo names associated with this channel id."""
    send_delay_us: builtins.float
    """Duration from the beginning of the recv-done to the beginning of send in
    microseconds. If the recv-done op starts after the beginning of the send
    op, the delay is zero.
    """
    description: builtins.str
    """Description (e.g. XLA expression)."""
    def __init__(
        self,
        *,
        channel_id: builtins.int = ...,
        src_core_ids: collections.abc.Iterable[builtins.int] | None = ...,
        dst_core_ids: collections.abc.Iterable[builtins.int] | None = ...,
        data_size: builtins.int = ...,
        duration_us: builtins.float = ...,
        occurrences: builtins.int = ...,
        utilization: builtins.float = ...,
        hlo_names: collections.abc.Iterable[builtins.str] | None = ...,
        send_delay_us: builtins.float = ...,
        description: builtins.str = ...,
    ) -> None: ...
    def ClearField(self, field_name: typing_extensions.Literal["channel_id", b"channel_id", "data_size", b"data_size", "description", b"description", "dst_core_ids", b"dst_core_ids", "duration_us", b"duration_us", "hlo_names", b"hlo_names", "occurrences", b"occurrences", "send_delay_us", b"send_delay_us", "src_core_ids", b"src_core_ids", "utilization", b"utilization"]) -> None: ...

global___ChannelInfo = ChannelInfo

@typing_extensions.final
class PodViewerSummary(google.protobuf.message.Message):
    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    WARNINGS_FIELD_NUMBER: builtins.int
    @property
    def warnings(self) -> google.protobuf.internal.containers.RepeatedScalarFieldContainer[builtins.str]: ...
    def __init__(
        self,
        *,
        warnings: collections.abc.Iterable[builtins.str] | None = ...,
    ) -> None: ...
    def ClearField(self, field_name: typing_extensions.Literal["warnings", b"warnings"]) -> None: ...

global___PodViewerSummary = PodViewerSummary

@typing_extensions.final
class PodViewerTopology(google.protobuf.message.Message):
    """Next ID: 8
    Topology graph draws all the cores in the system in a 2-D rectangle or
    3-D cube. It is hierarchically grouped by host, chip and core.
    """

    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    X_DIMENSION_FIELD_NUMBER: builtins.int
    Y_DIMENSION_FIELD_NUMBER: builtins.int
    Z_DIMENSION_FIELD_NUMBER: builtins.int
    HOST_X_STRIDE_FIELD_NUMBER: builtins.int
    HOST_Y_STRIDE_FIELD_NUMBER: builtins.int
    HOST_Z_STRIDE_FIELD_NUMBER: builtins.int
    NUM_CORES_PER_CHIP_FIELD_NUMBER: builtins.int
    x_dimension: builtins.int
    """Number of cores in the x dimension of the rectangle/cube."""
    y_dimension: builtins.int
    """Number of cores in the y dimension of the rectangle/cube."""
    z_dimension: builtins.int
    """Number of cores in the z dimension of the cube."""
    host_x_stride: builtins.int
    """Number of cores in the x dimension of each host."""
    host_y_stride: builtins.int
    """Number of cores in the y dimension of each host."""
    host_z_stride: builtins.int
    """Number of cores in the z dimension of each host."""
    num_cores_per_chip: builtins.int
    """Number of cores per chip."""
    def __init__(
        self,
        *,
        x_dimension: builtins.int = ...,
        y_dimension: builtins.int = ...,
        z_dimension: builtins.int = ...,
        host_x_stride: builtins.int = ...,
        host_y_stride: builtins.int = ...,
        host_z_stride: builtins.int = ...,
        num_cores_per_chip: builtins.int = ...,
    ) -> None: ...
    def ClearField(self, field_name: typing_extensions.Literal["host_x_stride", b"host_x_stride", "host_y_stride", b"host_y_stride", "host_z_stride", b"host_z_stride", "num_cores_per_chip", b"num_cores_per_chip", "x_dimension", b"x_dimension", "y_dimension", b"y_dimension", "z_dimension", b"z_dimension"]) -> None: ...

global___PodViewerTopology = PodViewerTopology

@typing_extensions.final
class PodViewerDatabase(google.protobuf.message.Message):
    """Next ID: 12
    A database of pod viewer records.
    """

    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    DEVICE_TYPE_FIELD_NUMBER: builtins.int
    POD_STATS_SEQUENCE_FIELD_NUMBER: builtins.int
    SUMMARY_FIELD_NUMBER: builtins.int
    DIAGNOSTICS_FIELD_NUMBER: builtins.int
    STEP_BREAKDOWN_EVENTS_FIELD_NUMBER: builtins.int
    TOPOLOGY_FIELD_NUMBER: builtins.int
    device_type: builtins.str
    """The type of device used."""
    @property
    def pod_stats_sequence(self) -> global___PodStatsSequence:
        """Pod level stats for each step."""
    @property
    def summary(self) -> global___PodViewerSummary:
        """Top level summary of pod viewer."""
    @property
    def diagnostics(self) -> tensorflow.core.profiler.protobuf.diagnostics_pb2.Diagnostics:
        """Error and warning messages for diagnosing profiling issues."""
    @property
    def step_breakdown_events(self) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[tensorflow.core.profiler.protobuf.pod_stats_pb2.StepBreakdownEvents]:
        """A map from event type number to event name string for step breakdown."""
    @property
    def topology(self) -> global___PodViewerTopology:
        """Info to draw the topology graph."""
    def __init__(
        self,
        *,
        device_type: builtins.str = ...,
        pod_stats_sequence: global___PodStatsSequence | None = ...,
        summary: global___PodViewerSummary | None = ...,
        diagnostics: tensorflow.core.profiler.protobuf.diagnostics_pb2.Diagnostics | None = ...,
        step_breakdown_events: collections.abc.Iterable[tensorflow.core.profiler.protobuf.pod_stats_pb2.StepBreakdownEvents] | None = ...,
        topology: global___PodViewerTopology | None = ...,
    ) -> None: ...
    def HasField(self, field_name: typing_extensions.Literal["diagnostics", b"diagnostics", "pod_stats_sequence", b"pod_stats_sequence", "summary", b"summary", "topology", b"topology"]) -> builtins.bool: ...
    def ClearField(self, field_name: typing_extensions.Literal["device_type", b"device_type", "diagnostics", b"diagnostics", "pod_stats_sequence", b"pod_stats_sequence", "step_breakdown_events", b"step_breakdown_events", "summary", b"summary", "topology", b"topology"]) -> None: ...

global___PodViewerDatabase = PodViewerDatabase
